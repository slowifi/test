import Offset as Os;

const s = StringBuffer(1024);
const main = EUDArray(6);

function onPluginStart(){
	//
	s.insert(0); // initialize. Without the initialization, text does not appeared.
}

function beforeTriggerExec(){
	SetMemory(0x6509A0, SetTo, 0); //EUD터보
	//SetMemory(0x5124F0, SetTo, 29);	//x2배속
}

function afterTriggerExec(){
	EUDPlayerLoop()();
	const cp = getcurpl();
	//
	if(cp < 6){
		once{main[cp] = dwread_epd(EPD(0x628438));}

		once{CreateUnit(1, "Terran Marine", "Location 1", CurrentPlayer);}
		once{Os.SetStsFlg(main[cp], 0x4000000, 1);} // invincibility
		s.append("\nCurPos: ");
		s.append(Os.GetPos(main[cp], 0x028));
		s.append("\nVel: ");
		s.append(Os.GetOffSet(main[cp], 0x038));
		s.append(" ");
		s.append(Os.GetOffSet(main[cp], 0x03C));
		s.append("\nVelx Vely: ");
		s.append(Os.GetOffSet(main[cp], 0x040));
		s.append(" ");
		s.append(Os.GetOffSet(main[cp], 0x044));
		s.append("\nAcc: ");
		//s.append(Os.GetOffSet(main[cp], 0x048));
		s.append(bwread_epd(main[cp] + 0x048, 1, 0));
		bw
		s.Display();
		s.insert(0);
	}
	
	EUDEndPlayerLoop();
}